<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Disk Conveni√™ncia Pa√ßo üç∫</title>

<style>
:root {
    --primary: #f7c600;
    --dark: #0f0f0f;
    --card: #1b1b1b;
    --success: #25d366;
}

* {
    box-sizing: border-box;
    font-family: Arial, Helvetica, sans-serif;
}

body {
    margin: 0;
    background: var(--dark);
    color: #fff;
    padding-bottom: 120px;
}

header {
    background: linear-gradient(135deg, #f7c600, #ffdd55);
    color: #000;
    padding: 18px;
    text-align: center;
    font-size: 22px;
    font-weight: bold;
}

.subheader {
    background: #121212;
    text-align: center;
    padding: 10px;
    font-size: 14px;
}

.container {
    padding: 15px;
    max-width: 600px;
    margin: auto;
}

.section-title {
    margin: 25px 0 10px;
    font-size: 18px;
    color: var(--primary);
    border-left: 4px solid var(--primary);
    padding-left: 8px;
}

.card {
    background: var(--card);
    border-radius: 14px;
    padding: 14px;
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.price {
    color: var(--primary);
    font-weight: bold;
}

.qty {
    width: 60px;
    padding: 6px;
    border-radius: 6px;
    border: none;
    text-align: center;
}

select, input[type=text] {
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: none;
    margin-top: 10px;
    background: #222;
    color: #fff;
}

button {
    width: 100%;
    padding: 18px;
    background: var(--success);
    border: none;
    color: #fff;
    font-size: 18px;
    font-weight: bold;
    border-radius: 14px;
    cursor: pointer;
    margin-top: 20px;
}

button:disabled {
    background: #555;
}

.total {
    font-size: 24px;
    text-align: center;
    color: var(--primary);
    margin-top: 15px;
}

.whatsapp {
    position: fixed;
    bottom: 18px;
    right: 18px;
    background: var(--success);
    color: #fff;
    width: 68px;
    height: 68px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 34px;
    text-decoration: none;
}

#painelAdmin, #modoEntregador {
    background: #1c1c1c;
    border-radius: 14px;
    padding: 14px;
    margin-top: 20px;
    display: none;
}

#painelAdmin h3, #modoEntregador h3 {
    margin-top: 0;
}
</style>
</head>

<body>

<header>üç∫ Disk Conveni√™ncia Pa√ßo</header>
<div class="subheader">Pedidos das 19:00 √†s 00:00 ‚Ä¢ Entrega pr√≥pria</div>

<div class="container">

<div class="section-title">üç∫ Produtos</div>

<div class="card">
    Skol Lata 350ml (R$ 6,50)
    <input type="number" id="skol" class="qty" value="0" min="0" oninput="calcularTotal()">
</div>

<div class="card">
    Brahma Lata 350ml (R$ 6,50)
    <input type="number" id="brahma" class="qty" value="0" min="0" oninput="calcularTotal()">
</div>

<div class="card">
    Heineken Long Neck (R$ 11,00)
    <input type="number" id="heineken" class="qty" value="0" min="0" oninput="calcularTotal()">
</div>

<div class="card">
    Coca-Cola Lata (R$ 6,00)
    <input type="number" id="coca" class="qty" value="0" min="0" oninput="calcularTotal()">
</div>

<div class="card">
    Amendoim Japon√™s (R$ 5,00)
    <input type="number" id="amendoim" class="qty" value="0" min="0" oninput="calcularTotal()">
</div>

<div class="section-title">üéü Cupom</div>
<input type="text" id="cupom" placeholder="Digite o cupom">

<div class="section-title">üìç Entrega</div>
<select id="bairro" onchange="calcularTotal()">
    <option value="5">Centro - R$5</option>
    <option value="7">Bairro A - R$7</option>
    <option value="10">Bairro B - R$10</option>
    <option value="12">Bairro C - R$12</option>
</select>
<button onclick="pegarLocalizacao()">üìç Usar minha localiza√ß√£o</button>

<div class="total" id="total">Total: R$ 0,00</div>

<button id="btnPedido" onclick="finalizarPedido()">Finalizar Pedido no WhatsApp</button>

<!-- PAINEL ADMIN -->
<div id="painelAdmin">
    <h3>üì¶ Painel de Estoque</h3>
    <div id="estoqueAdmin"></div>
</div>

<!-- MODO ENTREGADOR -->
<div id="modoEntregador">
    <h3>üõµ Modo Entregador</h3>
    <div id="entregas"></div>
</div>

</div>

<a class="whatsapp" href="https://wa.me/5598999999999" target="_blank">üí¨</a>

<script>
const estoque = {
    skol: 50,
    brahma: 50,
    heineken: 30,
    coca: 40,
    amendoim: 40
};

let localizacao = "";
let pedidosEntregador = [];

function horarioValido(){
    const h = new Date().getHours();
    return h >= 19;
}

function calcularTotal(){
    let total = 0;
    const precos = {
        skol:6.5, brahma:6.5, heineken:11, coca:6, amendoim:5
    };

    for(let id in precos){
        let qtd = parseInt(document.getElementById(id).value) || 0;
        if(qtd > estoque[id]){
            alert(`Estoque insuficiente para ${id}`);
            document.getElementById(id).value = estoque[id];
            qtd = estoque[id];
        }
        total += qtd * precos[id];
    }

    // Cupom
    if(document.getElementById("cupom").value === "PRIMEIRACOMPRA" && !localStorage.getItem("cupom_usado")){
        total -= 5;
    }

    // Bairro/Entrega
    let taxa = parseFloat(document.getElementById("bairro").value);
    total += taxa;

    document.getElementById("total").innerText = "Total: R$ " + total.toFixed(2);
}

// Localiza√ß√£o
function pegarLocalizacao(){
    navigator.geolocation.getCurrentPosition(pos => {
        localizacao = `https://maps.google.com/?q=${pos.coords.latitude},${pos.coords.longitude}`;
        alert("Localiza√ß√£o capturada!");
    });
}

// Finalizar pedido
function finalizarPedido(){
    if(!horarioValido()){
        alert("Pedidos apenas das 19:00 √†s 00:00");
        return;
    }

    let pedido = "üç∫ *Pedido Disk Conveni√™ncia Pa√ßo*%0A";
    let total = document.getElementById("total").innerText;

    pedido += `%0Aüìç Localiza√ß√£o: ${localizacao || "N√£o enviada"}`;
    pedido += `%0Aüíµ ${total}`;

    // Cupom
    if(document.getElementById("cupom").value === "PRIMEIRACOMPRA"){
        localStorage.setItem("cupom_usado", "true");
        pedido += `%0Aüéü Cupom PRIMEIRACOMPRA`;
    }

    // Adiciona ao modo entregador
    pedidosEntregador.push({
        pedido: pedido,
        local: localizacao
    });
    atualizarModoEntregador();

    window.open(`https://wa.me/5598999999999?text=${pedido}`);
}

// Painel admin simples
function mostrarPainelAdmin(){
    let senha = prompt("Digite a senha do painel:");
    if(senha === "ADMIN123"){ // senha simples
        document.getElementById("painelAdmin").style.display = "block";
        let html = "";
        for(let key in estoque){
            html += `${key}: ${estoque[key]} unidades<br>`;
        }
        document.getElementById("estoqueAdmin").innerHTML = html;
    } else {
        alert("Senha incorreta!");
    }
}

// Modo entregador
function atualizarModoEntregador(){
    let div = document.getElementById("entregas");
    let html = "";
    pedidosEntregador.forEach((p,i)=>{
        html += `Pedido ${i+1}: <a href="${p.local}" target="_blank">üìç Ver localiza√ß√£o</a><br>`;
    });
    document.getElementById("modoEntregador").style.display = "block";
    div.innerHTML = html;
}

// Para teste: mostrar painel admin no carregamento (pode ser removido)
// mostrarPainelAdmin();

</script>

</body>
</html>
